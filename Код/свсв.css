:root {
    --desk-color-start: #795548;
    --desk-color-end: #5d4037;
    --env: #bdc3c7;
    --env-dark: #95a5a6;
    --text: #34495e;
    --bg: #e0e0e0;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    background: var(--bg);
    font-family: 'Segoe UI', sans-serif;
    overflow: hidden;
}

.desk-surface {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 50vh;
    background: linear-gradient(135deg, var(--desk-color-start), var(--desk-color-end));
    box-shadow: 0 -8px 30px rgba(0,0,0,0.2);
    z-index: 0;
}

.signature-ilya {
    position: absolute;
    bottom: 10px;
    right: 15px;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.75rem;
    z-index: 15; 
}

.container {
    position: relative;
    width: 280px;
    height: 180px;
    cursor: pointer;
    z-index: 10; 
    margin-bottom: calc(50vh - 90px); 
}

.envelope {
    position: absolute;
    width: 100%;
    height: 100%;
    background: var(--env);
    border-radius: 0 0 8px 8px;
    z-index: 2;
}

.flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 140px solid transparent;
    border-right: 140px solid transparent;
    border-top: 90px solid var(--env-dark);
    transform-origin: top;
    transition: transform 0.5s ease;
    z-index: 4;
}

.letter {
    position: absolute;
    bottom: 5px;
    left: 5%;
    width: 90%;
    height: 100%;
    background: white;
    padding: 20px;
    text-align: center;
    transition: transform 0.8s cubic-bezier(0.17, 0.88, 0.32, 1.1);
    z-index: 3;
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.container.open .flap { transform: rotateX(180deg); }
.container.open .letter { transform: translateY(-250px); height: auto; min-height: 200px; }

h2 { font-size: 1rem; color: #2c3e50; margin-bottom: 10px; }
p { font-size: 0.9rem; color: var(--text); }

.emoji { position: fixed; top: -50px; animation: fall linear forwards; z-index: 50; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
